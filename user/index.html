<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SomaFy - Kenya's Learning Platform</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <a href="#" class="logo">
                <img src="assets/somafy logo.jpg" alt="SomaFy Logo" class="logo-img">
                <span>SomaFy</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#" class="active">Home</a></li>
                    <li><a href="#papers">Papers</a></li>
                    <li><a href="#setbooks">Setbooks</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <a href="#" class="sign-in-link"><i class="fas fa-user"></i> Sign In</a>
                <a href="#" class="btn btn-outline">Register</a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Kenya's Premier Educational Resource Platform</h1>
            <p>Access curriculum-aligned textbooks, revision papers, and setbooks for all Kenyan education systems</p>
            
            <div class="selector-container">
                <h3>Find Your Learning Materials</h3>
                <div class="selector-row">
                    <div class="selector-group">
                        <label>Select Class/Grade</label>
                        <div class="custom-select">
                            <select id="class-select">
                                <option value="">Select Class/Grade</option>
                                <optgroup label="KCPE">
                                    <option value="std1">Standard 1</option>
                                    <option value="std2">Standard 2</option>
                                    <option value="std3">Standard 3</option>
                                    <option value="std4">Standard 4</option>
                                    <option value="std5">Standard 5</option>
                                    <option value="std6">Standard 6</option>
                                    <option value="std7">Standard 7</option>
                                    <option value="std8">Standard 8</option>
                                </optgroup>
                                <optgroup label="KCSE">
                                    <option value="form1">Form 1</option>
                                    <option value="form2">Form 2</option>
                                    <option value="form3">Form 3</option>
                                    <option value="form4">Form 4</option>
                                </optgroup>
                                <optgroup label="CBC">
                                    <option value="pp1">PP1</option>
                                    <option value="pp2">PP2</option>
                                    <option value="grade1">Grade 1</option>
                                    <option value="grade2">Grade 2</option>
                                    <option value="grade3">Grade 3</option>
                                    <option value="grade4">Grade 4</option>
                                    <option value="grade5">Grade 5</option>
                                    <option value="grade6">Grade 6</option>
                                    <option value="grade7">Grade 7</option>
                                    <option value="grade8">Grade 8</option>
                                    <option value="grade9">Grade 9</option>
                                    <option value="grade10">Grade 10</option>
                                    <option value="grade11">Grade 11</option>
                                    <option value="grade12">Grade 12</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>
                    
                    <div class="selector-group">
                        <label>Select Subject</label>
                        <div class="custom-select">
                            <select id="subject-select" disabled>
                                <option value="">First select a class/grade</option>
                            </select>
                        </div>
                    </div>
                </div>
                <button id="find-resources" class="btn btn-primary">Find Resources</button>
            </div>
        </div>
    </section>

    <!-- Revision Papers Slider Section -->
    <section class="revision-section">
        <h2 class="section-title">Premium Educational Resources</h2>
        <div class="revision-slider">
            <div class="slider-container">
                <div class="slider-item">
                    <img src="assets/exam paper2.jpg" alt="KCPE & KCSE Past Papers" class="slider-image">
                    <div class="slider-caption">
                        <h3>KCPE & KCSE Past Papers</h3>
                        <p>Comprehensive collection of past papers with marking schemes</p>
                    </div>
                </div>
                <div class="slider-item">
                    <img src="assets/WhatsApp Image 2025-07-21 at 17.39.48_efa085dc.jpg" alt="Textbooks & Setbooks" class="slider-image">
                    <div class="slider-caption">
                        <h3>Textbooks & Setbooks</h3>
                        <p>Curriculum-aligned textbooks and literature setbooks</p>
                    </div>
                </div>
            </div>
            <button class="slider-arrow prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="slider-arrow next">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="slider-nav">
                <div class="slider-dot active" data-index="0"></div>
                <div class="slider-dot" data-index="1"></div>
            </div>
        </div>
        <div class="revision-cta">
            <a href="#papers" class="btn btn-primary">Explore Resources</a>
        </div>
    </section>

    <!-- Popular Learning Resources Section -->
    <section class="books-section">
        <h2 class="section-title">Popular Learning Resources</h2>
        <div class="books-grid">
            <!-- Cards will be rendered here by JavaScript -->
        </div>
    </section>

    <!-- Papers Section -->
    <section id="papers" class="books-section">
        <h2 class="section-title">Past Papers</h2>
        <div class="books-grid">
            <!-- Cards will be rendered here by JavaScript -->
        </div>
    </section>

    <!-- Setbooks Section -->
    <section id="setbooks" class="books-section">
        <h2 class="section-title">Setbooks</h2>
        <div class="books-grid">
            <!-- Cards will be rendered here by JavaScript -->
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about-section">
        <div class="about-container">
            <h2>About SomaFy</h2>
            <p>SomaFy is Kenya's premier educational resource platform, providing students and teachers with access to curriculum-aligned textbooks, revision papers, setbooks, and more. Our mission is to make quality learning materials accessible to all, supporting academic excellence and lifelong learning.</p>
            <ul>
                <li>✔️ Access resources for KCPE, KCSE, and CBC</li>
                <li>✔️ Download past papers, setbooks, and general books</li>
                <li>✔️ Easy navigation by class, grade, and subject</li>
                <li>✔️ Secure downloads after payment</li>
            </ul>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact-section">
        <div class="contact-container">
            <div class="contact-form-section">
                <h2>Contact Us</h2>
                <form id="contact-form">
                    <input type="text" id="contact-name" placeholder="Your Name" required>
                    <input type="email" id="contact-email" placeholder="Your Email" required>
                    <textarea id="contact-message" placeholder="Your Message" rows="5" required></textarea>
                    <button type="submit" class="btn btn-primary">Send Message</button>
                    <div id="contact-message-status"></div>
                </form>
            </div>
            <div class="contact-info-section">
                <h3>Contact Information</h3>
                <ul class="contact-info-list">
                    <li><i class="fas fa-envelope"></i> info@somafy.co.ke</li>
                    <li><i class="fas fa-phone"></i> +254 700 123 456</li>
                    <li><i class="fas fa-map-marker-alt"></i> Nairobi, Kenya</li>
                    <li><i class="fas fa-clock"></i> Monday-Friday: 8:00 AM - 5:00 PM</li>
                    <li><i class="fas fa-comments"></i> 24/7 Online Support</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <div class="footer-logo">SomaFy</div>
                <p>Kenya's premier educational resource platform providing quality learning materials for all levels.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul class="footer-links">
                    <li><a href="#">Home</a></li>
                    <li><a href="#papers">Past Papers</a></li>
                    <li><a href="#setbooks">Setbooks</a></li>
                    <li><a href="#">Subjects</a></li>
                    <li><a href="#contact">Contact Us</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Education Systems</h3>
                <ul class="footer-links">
                    <li><a href="#">KCPE</a></li>
                    <li><a href="#">KCSE</a></li>
                    <li><a href="#">CBC</a></li>
                    <li><a href="#">PP1 & PP2</a></li>
                </ul>
            </div>
            
            <div class="footer-section newsletter-section">
                <h3>Newsletter</h3>
                <p>Subscribe to get updates on new resources and educational tips.</p>
                <div class="newsletter-form">
                    <input type="email" placeholder="Your Email" class="newsletter-input">
                    <button class="btn btn-primary newsletter-btn">Subscribe</button>
                </div>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2025 SomaFy Educational Resources. All rights reserved.</p>
        </div>
    </footer>

    <!-- Sign In Modal -->
    <div id="signin-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="signin-modal">&times;</span>
            <h2>Sign In</h2>
            <form id="signin-form">
                <input type="text" placeholder="Username or Email" required>
                <input type="password" placeholder="Password" required>
                <button type="submit" class="btn btn-primary">Sign In</button>
            </form>
            <p>Don't have an account? <a href="#" id="show-register">Register</a></p>
        </div>
    </div>

    <!-- Register Modal -->
    <div id="register-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="register-modal">&times;</span>
            <h2>Register</h2>
            <form id="register-form">
                <input type="text" placeholder="Username" required>
                <input type="email" placeholder="Email" required>
                <input type="password" placeholder="Password" required>
                <button type="submit" class="btn btn-primary">Register</button>
            </form>
            <p>Already have an account? <a href="#" id="show-signin">Sign In</a></p>
        </div>
    </div>

    <!-- Download/Payment Modal -->
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="download-modal">&times;</span>
            <h2>Download Resource</h2>
            <form id="download-form">
                <input type="text" id="download-name" placeholder="Your Name" required>
                <input type="email" id="download-email" placeholder="Your Email" required>
                <input type="tel" id="download-phone" placeholder="Your Phone Number" required>
                <button type="submit" class="btn btn-primary">Continue</button>
            </form>
            <div id="download-modal-message"></div>
            <button id="download-pesapal-btn" class="btn btn-primary" style="display:none;">Pay with PesaPal</button>
        </div>
    </div>

    <script>
        // Simple and reliable modal functionality
        function openModal(modal) {
            if (modal) {
                modal.style.display = 'flex';
                document.body.style.overflow = 'hidden';
            }
        }

        function closeModal(modal) {
            if (modal) {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }
        }

        // Initialize when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Modal close buttons
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    const modalId = this.getAttribute('data-modal');
                    const modal = document.getElementById(modalId);
                    if (modal) closeModal(modal);
                });
            });

            // Sign In and Register links
            document.querySelectorAll('.user-actions a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    if (this.textContent.includes('Sign In') || this.classList.contains('sign-in-link')) {
                        console.log('Sign In clicked');
                        openModal(document.getElementById('signin-modal'));
                    } else if (this.textContent.includes('Register')) {
                        console.log('Register clicked');
                        openModal(document.getElementById('register-modal'));
                    }
                });
            });

            // Modal switching
            const showRegisterLink = document.getElementById('show-register');
            const showSigninLink = document.getElementById('show-signin');
            
            if (showRegisterLink) {
                showRegisterLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeModal(document.getElementById('signin-modal'));
                    openModal(document.getElementById('register-modal'));
                });
            }
            
            if (showSigninLink) {
                showSigninLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    closeModal(document.getElementById('register-modal'));
                    openModal(document.getElementById('signin-modal'));
                });
            }

            // Close modal when clicking outside
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    closeModal(event.target);
                }
            });

            // Subject dropdown functionality
            const classSelect = document.getElementById('class-select');
            const subjectSelect = document.getElementById('subject-select');
            
            if (classSelect && subjectSelect) {
                classSelect.addEventListener('change', function() {
                    if (this.value) {
                        subjectSelect.disabled = false;
                        let subjects = [];
                        
                        if (this.value.includes('pp')) {
                            // CBC PP1 & PP2 subjects
                            subjects = [
                                { value: 'language_activities', label: 'Language Activities' },
                                { value: 'mathematical_activities', label: 'Mathematical Activities' },
                                { value: 'environmental_activities', label: 'Environmental Activities' },
                                { value: 'creative_activities', label: 'Creative Activities' },
                                { value: 'religious_activities', label: 'Religious Activities' }
                            ];
                        } else if (this.value.includes('std')) {
                            // KCPE subjects (Primary School)
                            subjects = [
                                { value: 'english', label: 'English' },
                                { value: 'kiswahili', label: 'Kiswahili' },
                                { value: 'mathematics', label: 'Mathematics' },
                                { value: 'science', label: 'Science' },
                                { value: 'social_studies', label: 'Social Studies' },
                                { value: 'religious_education', label: 'Religious Education' }
                            ];
                        } else if (this.value.includes('form')) {
                            // KCSE subjects (Secondary School)
                            subjects = [
                                { value: 'english', label: 'English' },
                                { value: 'kiswahili', label: 'Kiswahili' },
                                { value: 'mathematics', label: 'Mathematics' },
                                { value: 'biology', label: 'Biology' },
                                { value: 'chemistry', label: 'Chemistry' },
                                { value: 'physics', label: 'Physics' },
                                { value: 'history', label: 'History' },
                                { value: 'geography', label: 'Geography' },
                                { value: 'religious_education', label: 'Religious Education' },
                                { value: 'business_studies', label: 'Business Studies' },
                                { value: 'agriculture', label: 'Agriculture' },
                                { value: 'home_science', label: 'Home Science' },
                                { value: 'computer_studies', label: 'Computer Studies' }
                            ];
                        } else if (this.value.includes('grade')) {
                            // CBC Grades 1-12 subjects
                            subjects = [
                                { value: 'english', label: 'English' },
                                { value: 'kiswahili', label: 'Kiswahili' },
                                { value: 'kenya_sign_language', label: 'Kenya Sign Language' },
                                { value: 'mathematics', label: 'Mathematics' },
                                { value: 'religious_education', label: 'Religious Education' },
                                { value: 'environmental_activities', label: 'Environmental Activities' },
                                { value: 'creative_activities', label: 'Creative Activities' },
                                { value: 'science_technology', label: 'Science and Technology' },
                                { value: 'agriculture_nutrition', label: 'Agriculture and Nutrition' },
                                { value: 'social_studies', label: 'Social Studies' },
                                { value: 'arts_craft', label: 'Arts and Craft' },
                                { value: 'music', label: 'Music' },
                                { value: 'physical_health_education', label: 'Physical and Health Education' },
                                { value: 'integrated_science', label: 'Integrated Science' },
                                { value: 'pre_technical_career', label: 'Pre-Technical and Pre-Career Education' },
                                { value: 'business_studies', label: 'Business Studies' },
                                { value: 'health_education', label: 'Health Education' },
                                { value: 'life_skills_education', label: 'Life Skills Education' },
                                { value: 'computer_science', label: 'Computer Science' },
                                { value: 'home_science', label: 'Home Science' },
                                { value: 'community_service_learning', label: 'Community Service Learning' },
                                { value: 'physics', label: 'Physics' },
                                { value: 'chemistry', label: 'Chemistry' },
                                { value: 'biology', label: 'Biology' },
                                { value: 'fine_art', label: 'Fine Art' },
                                { value: 'performing_arts', label: 'Performing Arts' },
                                { value: 'sports_science', label: 'Sports Science' },
                                { value: 'history', label: 'History' },
                                { value: 'geography', label: 'Geography' },
                                { value: 'literature_english', label: 'Literature in English' }
                            ];
                        }
                        
                        subjectSelect.innerHTML = '<option value="">Select Subject</option>';
                        subjects.forEach(subject => {
                            subjectSelect.innerHTML += `<option value="${subject.value}">${subject.label}</option>`;
                        });
                    } else {
                        subjectSelect.disabled = true;
                        subjectSelect.innerHTML = '<option value="">First select a class/grade</option>';
                    }
                });
            }

            // Find Resources button
            const findResourcesBtn = document.getElementById('find-resources');
            if (findResourcesBtn) {
                findResourcesBtn.addEventListener('click', function() {
                    const selectedClass = classSelect ? classSelect.value : '';
                    const selectedSubject = subjectSelect ? subjectSelect.value : '';
                    
                    if (!selectedClass) {
                        alert('Please select a class/grade');
                        return;
                    }
                    
                    if (!selectedSubject) {
                        alert('Please select a subject');
                        return;
                    }
                    
                    // Redirect to resources page with query params
                    window.location.href = `resources.html?class=${encodeURIComponent(selectedClass)}&subject=${encodeURIComponent(selectedSubject)}`;
                });
            }

            // Initialize slider functionality
            const slider = document.querySelector('.slider-container');
            const dots = document.querySelectorAll('.slider-dot');
            const prevBtn = document.querySelector('.slider-arrow.prev');
            const nextBtn = document.querySelector('.slider-arrow.next');
            let currentSlide = 0;
            const slideCount = 2; // Number of slides
            
            function goToSlide(index) {
                currentSlide = index;
                slider.style.transform = `translateX(-${currentSlide * 100}%)`;
                
                // Update active dot
                dots.forEach((dot, i) => {
                    dot.classList.toggle('active', i === currentSlide);
                });
            }
            
            function nextSlide() {
                currentSlide = (currentSlide + 1) % slideCount;
                goToSlide(currentSlide);
            }
            
            function prevSlide() {
                currentSlide = (currentSlide - 1 + slideCount) % slideCount;
                goToSlide(currentSlide);
            }
            
            // Event listeners for slider
            if (prevBtn) prevBtn.addEventListener('click', prevSlide);
            if (nextBtn) nextBtn.addEventListener('click', nextSlide);
            
            // Dot navigation
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    goToSlide(parseInt(dot.dataset.index));
                });
            });
            
            // Auto slide every 5 seconds
            setInterval(nextSlide, 5000);
        });
    </script>
    <script src="script.js"></script>
</body>
</html>